"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/agents/[id]",{

/***/ "./pages/agents/[id].tsx":
/*!*******************************!*\
  !*** ./pages/agents/[id].tsx ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ AgentChat; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _data_agents_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../data/agents.json */ \"./data/agents.json\");\n/* harmony import */ var _store_categoryStore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/store/categoryStore */ \"./store/categoryStore.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\nconst categories = [\n    \"Здоровье\",\n    \"Финансы\",\n    \"Быт\",\n    \"Дети\"\n];\n// Функция для форматирования текста с абзацами\nconst formatMessageText = (text)=>{\n    // Разбиваем текст на абзацы по двойным переносам строки\n    const paragraphs = text.split(/\\n\\s*\\n/);\n    return paragraphs.map((paragraph, index)=>{\n        // Убираем лишние пробелы и переносы в начале и конце\n        const trimmedParagraph = paragraph.trim();\n        if (!trimmedParagraph) return null;\n        // Обрабатываем списки (строки, начинающиеся с -, *, цифры)\n        if (trimmedParagraph.includes(\"\\n-\") || trimmedParagraph.includes(\"\\n*\") || /\\n\\d+\\./.test(trimmedParagraph)) {\n            const lines = trimmedParagraph.split(\"\\n\");\n            const elements = [];\n            let currentList = [];\n            let currentListType = null;\n            lines.forEach((line, lineIndex)=>{\n                const trimmedLine = line.trim();\n                if (trimmedLine.startsWith(\"-\") || trimmedLine.startsWith(\"*\")) {\n                    if (currentListType !== \"ul\") {\n                        if (currentList.length > 0) {\n                            elements.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ol\", {\n                                children: currentList.map((item, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: item\n                                    }, i, false, {\n                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                        lineNumber: 36,\n                                        columnNumber: 49\n                                    }, undefined))\n                            }, \"ol-\".concat(index, \"-\").concat(elements.length), false, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 35,\n                                columnNumber: 17\n                            }, undefined));\n                            currentList = [];\n                        }\n                        currentListType = \"ul\";\n                    }\n                    currentList.push(trimmedLine.substring(1).trim());\n                } else if (/^\\d+\\./.test(trimmedLine)) {\n                    if (currentListType !== \"ol\") {\n                        if (currentList.length > 0) {\n                            elements.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                children: currentList.map((item, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        children: item\n                                    }, i, false, {\n                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                        lineNumber: 49,\n                                        columnNumber: 49\n                                    }, undefined))\n                            }, \"ul-\".concat(index, \"-\").concat(elements.length), false, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 48,\n                                columnNumber: 17\n                            }, undefined));\n                            currentList = [];\n                        }\n                        currentListType = \"ol\";\n                    }\n                    currentList.push(trimmedLine.replace(/^\\d+\\.\\s*/, \"\"));\n                } else if (trimmedLine) {\n                    if (currentList.length > 0) {\n                        const ListComponent = currentListType === \"ul\" ? \"ul\" : \"ol\";\n                        elements.push(/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(ListComponent, {\n                            key: \"\".concat(currentListType, \"-\").concat(index, \"-\").concat(elements.length)\n                        }, currentList.map((item, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: item\n                            }, i, false, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 64,\n                                columnNumber: 46\n                            }, undefined))));\n                        currentList = [];\n                        currentListType = null;\n                    }\n                    elements.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: trimmedLine\n                    }, \"p-\".concat(index, \"-\").concat(lineIndex), false, {\n                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                        lineNumber: 70,\n                        columnNumber: 25\n                    }, undefined));\n                }\n            });\n            if (currentList.length > 0) {\n                const ListComponent = currentListType === \"ul\" ? \"ul\" : \"ol\";\n                elements.push(/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(ListComponent, {\n                    key: \"\".concat(currentListType, \"-\").concat(index, \"-final\")\n                }, currentList.map((item, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                        children: item\n                    }, i, false, {\n                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                        lineNumber: 80,\n                        columnNumber: 42\n                    }, undefined))));\n            }\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: elements\n            }, index, false, {\n                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                lineNumber: 85,\n                columnNumber: 14\n            }, undefined);\n        } else {\n            // Обычный абзац\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: trimmedParagraph\n            }, index, false, {\n                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                lineNumber: 88,\n                columnNumber: 14\n            }, undefined);\n        }\n    }).filter(Boolean);\n};\nfunction AgentChat() {\n    _s();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)();\n    const { id } = router.query;\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const [email, setEmail] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [assistantName, setAssistantName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [messagesLoaded, setMessagesLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [subscriptionStatus, setSubscriptionStatus] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"trial\");\n    const [sidebarOpen, setSidebarOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [userMenuOpen, setUserMenuOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const { categories } = (0,_store_categoryStore__WEBPACK_IMPORTED_MODULE_5__.useCategoryStore)();\n    // Автоматический скролл к последнему сообщению\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        scrollToBottom();\n    }, [\n        messages\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        fetch(\"/api/me\").then((res)=>res.json()).then((data)=>{\n            if (!data.email) {\n                window.location.href = \"/auth/login\";\n            } else {\n                setEmail(data.email);\n                setSubscriptionStatus(data.subscriptionStatus || \"expired\");\n            }\n        });\n    }, []);\n    // Загрузка истории сообщений из localStorage (только один раз)\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (router.isReady && typeof id === \"string\" && !messagesLoaded) {\n            const saved = localStorage.getItem(\"chat_\".concat(id));\n            if (saved) {\n                try {\n                    setMessages(JSON.parse(saved));\n                } catch (e) {\n                    setMessages([]);\n                }\n            }\n            setMessagesLoaded(true);\n        }\n    }, [\n        router.isReady,\n        id,\n        messagesLoaded\n    ]);\n    // Сохранение сообщений при каждом изменении\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (typeof id === \"string\" && messagesLoaded) {\n            localStorage.setItem(\"chat_\".concat(id), JSON.stringify(messages));\n        }\n    }, [\n        messages,\n        id,\n        messagesLoaded\n    ]);\n    // Получение имени ассистента\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (router.isReady && typeof id === \"string\") {\n            const found = _data_agents_json__WEBPACK_IMPORTED_MODULE_4__.find((agent)=>agent.id === id);\n            setAssistantName((found === null || found === void 0 ? void 0 : found.name) || \"Ассистент\");\n        }\n    }, [\n        router.isReady,\n        id\n    ]);\n    const toggleSidebar = ()=>{\n        setSidebarOpen(!sidebarOpen);\n    };\n    const toggleUserMenu = ()=>{\n        setUserMenuOpen(!userMenuOpen);\n    };\n    async function sendMessage() {\n        if (!input.trim() || typeof id !== \"string\") return;\n        setLoading(true);\n        try {\n            const res = await fetch(\"/api/chat\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    message: input,\n                    assistant_id: id\n                })\n            });\n            if (!res.ok) {\n                const err = await res.text();\n                throw new Error(err);\n            }\n            const data = await res.json();\n            setMessages((prev)=>[\n                    ...prev,\n                    {\n                        role: \"user\",\n                        content: input\n                    },\n                    data\n                ]);\n            setInput(\"\");\n        } catch (error) {\n            console.error(\"Ошибка при общении с ассистентом:\", error);\n            alert(\"Произошла ошибка. Проверь API ключ или ID ассистента.\");\n        }\n        setLoading(false);\n    }\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            sendMessage();\n        }\n    };\n    // Автоматическое изменение высоты textarea\n    const handleInputChange = (e)=>{\n        setInput(e.target.value);\n        // Автоматическое изменение высоты\n        const textarea = e.target;\n        textarea.style.height = \"auto\";\n        textarea.style.height = Math.min(textarea.scrollHeight, 120) + \"px\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-layout\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                className: \"sidebar \".concat(sidebarOpen ? \"sidebar-open\" : \"sidebar-closed\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"sidebar-header\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"sidebar-logo\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                    href: \"/dashboard\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        children: \"ИИ Помощники\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                        lineNumber: 219,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                    lineNumber: 218,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 217,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"sidebar-toggle\",\n                                onClick: toggleSidebar,\n                                children: sidebarOpen ? \"←\" : \"→\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 222,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                        lineNumber: 216,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"sidebar-content\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"sidebar-section\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                            className: \"color\",\n                                            href: \"/dashboard\",\n                                            children: \"Главная\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                            lineNumber: 229,\n                                            columnNumber: 11\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                        lineNumber: 229,\n                                        columnNumber: 7\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                        children: \"Категории\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                        lineNumber: 230,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                        className: \"sidebar-menu\",\n                                        children: [\n                                            categories.map((cat)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                    className: \"sidebar-menu-item\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                        href: \"/categories/\".concat(cat.name),\n                                                        className: \"sidebar-link\",\n                                                        children: cat.name\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                        lineNumber: 234,\n                                                        columnNumber: 6\n                                                    }, this)\n                                                }, cat.id, false, {\n                                                    fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                    lineNumber: 233,\n                                                    columnNumber: 7\n                                                }, this)),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                className: \"sidebar-menu-item\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                    href: \"/agents\",\n                                                    className: \"sidebar-link sidebar-link-all\",\n                                                    children: \"\\uD83D\\uDCCB Смотреть все\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                    lineNumber: 240,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 239,\n                                                columnNumber: 8\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                        lineNumber: 231,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 228,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"sidebar-section\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                        children: \"Избранное\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                        lineNumber: 248,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                        className: \"sidebar-menu\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                className: \"sidebar-menu-item\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                    href: \"#\",\n                                                    className: \"sidebar-link\",\n                                                    children: \"ИИ психолог\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                    lineNumber: 251,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 250,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                className: \"sidebar-menu-item\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                    href: \"#\",\n                                                    className: \"sidebar-link\",\n                                                    children: \"Фитнес тренер\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                    lineNumber: 254,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 253,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                        lineNumber: 249,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 247,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"sidebar-section\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                        children: \"Чаты\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                        lineNumber: 260,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                        className: \"sidebar-menu\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                className: \"sidebar-menu-item\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                    href: \"#\",\n                                                    className: \"sidebar-link\",\n                                                    children: \"ИИ психолог\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                    lineNumber: 263,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 262,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                className: \"sidebar-menu-item\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                    href: \"#\",\n                                                    className: \"sidebar-link\",\n                                                    children: \"Фитнес тренер\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                    lineNumber: 266,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 265,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                        lineNumber: 261,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 259,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                        lineNumber: 227,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"sidebar-footer\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                href: \"/subscribe\",\n                                className: \"subscribe-button\",\n                                children: \"Оформить подписку\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 273,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"user-info\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"user-info-button\",\n                                        onClick: toggleUserMenu,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"user-avatar\",\n                                                children: email.charAt(0).toUpperCase()\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 279,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"user-details\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"user-email\",\n                                                        children: email\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                        lineNumber: 283,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"subscription-badge \".concat(subscriptionStatus),\n                                                        children: subscriptionStatus === \"trial\" ? \"Пробный период\" : subscriptionStatus === \"active\" ? \"Активна\" : \"Истекла\"\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                        lineNumber: 284,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 282,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"chevron\",\n                                                children: userMenuOpen ? \"▲\" : \"▼\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 292,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                        lineNumber: 278,\n                                        columnNumber: 13\n                                    }, this),\n                                    userMenuOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"user-menu\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                href: \"/settings\",\n                                                className: \"user-menu-item\",\n                                                children: \"Настройки\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 299,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                href: \"/profile\",\n                                                className: \"user-menu-item\",\n                                                children: \"Профиль\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 302,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                href: \"/help\",\n                                                className: \"user-menu-item\",\n                                                children: \"Помощь\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 305,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                                                className: \"user-menu-separator\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 308,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                href: \"/logout\",\n                                                className: \"user-menu-item\",\n                                                children: \"Выйти\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 309,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                        lineNumber: 298,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 277,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                        lineNumber: 272,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                lineNumber: 215,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"chat-main \".concat(sidebarOpen ? \"with-sidebar\" : \"full-width\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-header\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"chat-title\",\n                                children: [\n                                    \"Чат с \",\n                                    assistantName\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 321,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"clear-chat-button\",\n                                onClick: ()=>{\n                                    setMessages([]);\n                                    localStorage.removeItem(\"chat_\".concat(id));\n                                },\n                                children: \"Очистить чат\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 322,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                        lineNumber: 320,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-container\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"chat-messages\",\n                                children: [\n                                    messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"welcome-message\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                children: [\n                                                    \"Добро пожаловать в чат с \",\n                                                    assistantName,\n                                                    \"!\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 337,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Начните разговор, написав ваше первое сообщение.\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                lineNumber: 338,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                        lineNumber: 336,\n                                        columnNumber: 15\n                                    }, this) : messages.map((msg, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"message \".concat(msg.role),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"message-avatar\",\n                                                    children: msg.role === \"user\" ? email.charAt(0).toUpperCase() : \"ИИ\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                    lineNumber: 343,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"message-content\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"message-author\",\n                                                            children: msg.role === \"user\" ? \"Вы\" : assistantName\n                                                        }, void 0, false, {\n                                                            fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                            lineNumber: 347,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"message-text\",\n                                                            children: formatMessageText(msg.content)\n                                                        }, void 0, false, {\n                                                            fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                            lineNumber: 350,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                                    lineNumber: 346,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, i, true, {\n                                            fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                            lineNumber: 342,\n                                            columnNumber: 17\n                                        }, this)),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        ref: messagesEndRef\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                        lineNumber: 357,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 334,\n                                columnNumber: 11\n                            }, this),\n                            subscriptionStatus === \"expired\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"chat-locked\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"locked-message\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            children: \"\\uD83D\\uDD12 Доступ к чату ограничен\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                            lineNumber: 363,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"Чтобы продолжить общение с ИИ-помощниками, оформите подписку.\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                            lineNumber: 364,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                            href: \"/subscribe\",\n                                            className: \"upgrade-button\",\n                                            children: \"Оформить подписку\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                            lineNumber: 365,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                    lineNumber: 362,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 361,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"chat-input-container\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"chat-input-wrapper\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                            value: input,\n                                            onChange: handleInputChange,\n                                            onKeyPress: handleKeyPress,\n                                            className: \"chat-input\",\n                                            placeholder: \"Введите сообщение...\",\n                                            rows: 1,\n                                            disabled: loading\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                            lineNumber: 373,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: sendMessage,\n                                            disabled: loading || !input.trim(),\n                                            className: \"send-button\",\n                                            children: loading ? \"⏳\" : \"↑\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                            lineNumber: 382,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                    lineNumber: 372,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                                lineNumber: 371,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                        lineNumber: 333,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n                lineNumber: 319,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\YandexDisk\\\\dostudio42\\\\servis ai\\\\servis\\\\ai-assistants-app-login\\\\pages\\\\agents\\\\[id].tsx\",\n        lineNumber: 213,\n        columnNumber: 5\n    }, this);\n}\n_s(AgentChat, \"u3Bn5Y0TD41+c3ZokOZyG4XLA24=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter,\n        _store_categoryStore__WEBPACK_IMPORTED_MODULE_5__.useCategoryStore\n    ];\n});\n_c = AgentChat;\nvar _c;\n$RefreshReg$(_c, \"AgentChat\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NENBQ05DLFVBQVVyRjs7Ozs7O3NEQUVaLDhEQUFDbUU7NENBQ0NDLFNBQVNoQzs0Q0FDVGlELFVBQVVyRixXQUFXLENBQUNKLE1BQU1yQyxJQUFJOzRDQUNoQ3lHLFdBQVU7c0RBRVRoRSxVQUFVLE1BQU07Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU25DO0dBL1N3QmI7O1FBQ1A3QyxrREFBU0E7UUFhRE8sa0VBQWdCQTs7O0tBZGpCc0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vcGFnZXMvYWdlbnRzL1tpZF0udHN4PzIwOTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgYWdlbnRzIGZyb20gJy4uLy4uL2RhdGEvYWdlbnRzLmpzb24nO1xuaW1wb3J0IHsgdXNlQ2F0ZWdvcnlTdG9yZSB9IGZyb20gJ0Avc3RvcmUvY2F0ZWdvcnlTdG9yZSc7XG5cbmNvbnN0IGNhdGVnb3JpZXMgPSBbJ9CX0LTQvtGA0L7QstGM0LUnLCAn0KTQuNC90LDQvdGB0YsnLCAn0JHRi9GCJywgJ9CU0LXRgtC4J107XG5cbi8vINCk0YPQvdC60YbQuNGPINC00LvRjyDRhNC+0YDQvNCw0YLQuNGA0L7QstCw0L3QuNGPINGC0LXQutGB0YLQsCDRgSDQsNCx0LfQsNGG0LDQvNC4XG5jb25zdCBmb3JtYXRNZXNzYWdlVGV4dCA9ICh0ZXh0OiBzdHJpbmcpID0+IHtcbiAgLy8g0KDQsNC30LHQuNCy0LDQtdC8INGC0LXQutGB0YIg0L3QsCDQsNCx0LfQsNGG0Ysg0L/QviDQtNCy0L7QudC90YvQvCDQv9C10YDQtdC90L7RgdCw0Lwg0YHRgtGA0L7QutC4XG4gIGNvbnN0IHBhcmFncmFwaHMgPSB0ZXh0LnNwbGl0KC9cXG5cXHMqXFxuLyk7XG4gIFxuICByZXR1cm4gcGFyYWdyYXBocy5tYXAoKHBhcmFncmFwaCwgaW5kZXgpID0+IHtcbiAgICAvLyDQo9Cx0LjRgNCw0LXQvCDQu9C40YjQvdC40LUg0L/RgNC+0LHQtdC70Ysg0Lgg0L/QtdGA0LXQvdC+0YHRiyDQsiDQvdCw0YfQsNC70LUg0Lgg0LrQvtC90YbQtVxuICAgIGNvbnN0IHRyaW1tZWRQYXJhZ3JhcGggPSBwYXJhZ3JhcGgudHJpbSgpO1xuICAgIFxuICAgIGlmICghdHJpbW1lZFBhcmFncmFwaCkgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgLy8g0J7QsdGA0LDQsdCw0YLRi9Cy0LDQtdC8INGB0L/QuNGB0LrQuCAo0YHRgtGA0L7QutC4LCDQvdCw0YfQuNC90LDRjtGJ0LjQtdGB0Y8g0YEgLSwgKiwg0YbQuNGE0YDRiylcbiAgICBpZiAodHJpbW1lZFBhcmFncmFwaC5pbmNsdWRlcygnXFxuLScpIHx8IHRyaW1tZWRQYXJhZ3JhcGguaW5jbHVkZXMoJ1xcbionKSB8fCAvXFxuXFxkK1xcLi8udGVzdCh0cmltbWVkUGFyYWdyYXBoKSkge1xuICAgICAgY29uc3QgbGluZXMgPSB0cmltbWVkUGFyYWdyYXBoLnNwbGl0KCdcXG4nKTtcbiAgICAgIGNvbnN0IGVsZW1lbnRzOiBKU1guRWxlbWVudFtdID0gW107XG4gICAgICBsZXQgY3VycmVudExpc3Q6IHN0cmluZ1tdID0gW107XG4gICAgICBsZXQgY3VycmVudExpc3RUeXBlOiAndWwnIHwgJ29sJyB8IG51bGwgPSBudWxsO1xuICAgICAgXG4gICAgICBsaW5lcy5mb3JFYWNoKChsaW5lLCBsaW5lSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdHJpbW1lZExpbmUgPSBsaW5lLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0cmltbWVkTGluZS5zdGFydHNXaXRoKCctJykgfHwgdHJpbW1lZExpbmUuc3RhcnRzV2l0aCgnKicpKSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRMaXN0VHlwZSAhPT0gJ3VsJykge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgZWxlbWVudHMucHVzaChcbiAgICAgICAgICAgICAgICA8b2wga2V5PXtgb2wtJHtpbmRleH0tJHtlbGVtZW50cy5sZW5ndGh9YH0+XG4gICAgICAgICAgICAgICAgICB7Y3VycmVudExpc3QubWFwKChpdGVtLCBpKSA9PiA8bGkga2V5PXtpfT57aXRlbX08L2xpPil9XG4gICAgICAgICAgICAgICAgPC9vbD5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY3VycmVudExpc3QgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRMaXN0VHlwZSA9ICd1bCc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnRMaXN0LnB1c2godHJpbW1lZExpbmUuc3Vic3RyaW5nKDEpLnRyaW0oKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoL15cXGQrXFwuLy50ZXN0KHRyaW1tZWRMaW5lKSkge1xuICAgICAgICAgIGlmIChjdXJyZW50TGlzdFR5cGUgIT09ICdvbCcpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgPHVsIGtleT17YHVsLSR7aW5kZXh9LSR7ZWxlbWVudHMubGVuZ3RofWB9PlxuICAgICAgICAgICAgICAgICAge2N1cnJlbnRMaXN0Lm1hcCgoaXRlbSwgaSkgPT4gPGxpIGtleT17aX0+e2l0ZW19PC9saT4pfVxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGN1cnJlbnRMaXN0ID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50TGlzdFR5cGUgPSAnb2wnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50TGlzdC5wdXNoKHRyaW1tZWRMaW5lLnJlcGxhY2UoL15cXGQrXFwuXFxzKi8sICcnKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHJpbW1lZExpbmUpIHtcbiAgICAgICAgICBpZiAoY3VycmVudExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgTGlzdENvbXBvbmVudCA9IGN1cnJlbnRMaXN0VHlwZSA9PT0gJ3VsJyA/ICd1bCcgOiAnb2wnO1xuICAgICAgICAgICAgZWxlbWVudHMucHVzaChcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBMaXN0Q29tcG9uZW50LFxuICAgICAgICAgICAgICAgIHsga2V5OiBgJHtjdXJyZW50TGlzdFR5cGV9LSR7aW5kZXh9LSR7ZWxlbWVudHMubGVuZ3RofWAgfSxcbiAgICAgICAgICAgICAgICBjdXJyZW50TGlzdC5tYXAoKGl0ZW0sIGkpID0+IDxsaSBrZXk9e2l9PntpdGVtfTwvbGk+KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY3VycmVudExpc3QgPSBbXTtcbiAgICAgICAgICAgIGN1cnJlbnRMaXN0VHlwZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnRzLnB1c2goPHAga2V5PXtgcC0ke2luZGV4fS0ke2xpbmVJbmRleH1gfT57dHJpbW1lZExpbmV9PC9wPik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoY3VycmVudExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBMaXN0Q29tcG9uZW50ID0gY3VycmVudExpc3RUeXBlID09PSAndWwnID8gJ3VsJyA6ICdvbCc7XG4gICAgICAgIGVsZW1lbnRzLnB1c2goXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIExpc3RDb21wb25lbnQsXG4gICAgICAgICAgICB7IGtleTogYCR7Y3VycmVudExpc3RUeXBlfS0ke2luZGV4fS1maW5hbGAgfSxcbiAgICAgICAgICAgIGN1cnJlbnRMaXN0Lm1hcCgoaXRlbSwgaSkgPT4gPGxpIGtleT17aX0+e2l0ZW19PC9saT4pXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gPGRpdiBrZXk9e2luZGV4fT57ZWxlbWVudHN9PC9kaXY+O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDQntCx0YvRh9C90YvQuSDQsNCx0LfQsNGGXG4gICAgICByZXR1cm4gPHAga2V5PXtpbmRleH0+e3RyaW1tZWRQYXJhZ3JhcGh9PC9wPjtcbiAgICB9XG4gIH0pLmZpbHRlcihCb29sZWFuKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFnZW50Q2hhdCgpIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IHsgaWQgfSA9IHJvdXRlci5xdWVyeTtcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIGNvbnN0IFtlbWFpbCwgc2V0RW1haWxdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbYXNzaXN0YW50TmFtZSwgc2V0QXNzaXN0YW50TmFtZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtpbnB1dCwgc2V0SW5wdXRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21lc3NhZ2VzTG9hZGVkLCBzZXRNZXNzYWdlc0xvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzdWJzY3JpcHRpb25TdGF0dXMsIHNldFN1YnNjcmlwdGlvblN0YXR1c10gPSB1c2VTdGF0ZTwnYWN0aXZlJyB8ICd0cmlhbCcgfCAnZXhwaXJlZCc+KCd0cmlhbCcpO1xuICBjb25zdCBbc2lkZWJhck9wZW4sIHNldFNpZGViYXJPcGVuXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbdXNlck1lbnVPcGVuLCBzZXRVc2VyTWVudU9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7IGNhdGVnb3JpZXMgfSA9IHVzZUNhdGVnb3J5U3RvcmUoKTtcbiAgXG4gIC8vINCQ0LLRgtC+0LzQsNGC0LjRh9C10YHQutC40Lkg0YHQutGA0L7Qu9C7INC6INC/0L7RgdC70LXQtNC90LXQvNGDINGB0L7QvtCx0YnQtdC90LjRjlxuICBjb25zdCBzY3JvbGxUb0JvdHRvbSA9ICgpID0+IHtcbiAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNjcm9sbFRvQm90dG9tKCk7XG4gIH0sIFttZXNzYWdlc10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2goJy9hcGkvbWUnKVxuICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgaWYgKCFkYXRhLmVtYWlsKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2F1dGgvbG9naW4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldEVtYWlsKGRhdGEuZW1haWwpO1xuICAgICAgICAgIHNldFN1YnNjcmlwdGlvblN0YXR1cyhkYXRhLnN1YnNjcmlwdGlvblN0YXR1cyB8fCAnZXhwaXJlZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSwgW10pO1xuXG4gIC8vINCX0LDQs9GA0YPQt9C60LAg0LjRgdGC0L7RgNC40Lgg0YHQvtC+0LHRidC10L3QuNC5INC40LcgbG9jYWxTdG9yYWdlICjRgtC+0LvRjNC60L4g0L7QtNC40L0g0YDQsNC3KVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChyb3V0ZXIuaXNSZWFkeSAmJiB0eXBlb2YgaWQgPT09ICdzdHJpbmcnICYmICFtZXNzYWdlc0xvYWRlZCkge1xuICAgICAgY29uc3Qgc2F2ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgY2hhdF8ke2lkfWApO1xuICAgICAgaWYgKHNhdmVkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc2V0TWVzc2FnZXMoSlNPTi5wYXJzZShzYXZlZCkpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICBzZXRNZXNzYWdlcyhbXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldE1lc3NhZ2VzTG9hZGVkKHRydWUpO1xuICAgIH1cbiAgfSwgW3JvdXRlci5pc1JlYWR5LCBpZCwgbWVzc2FnZXNMb2FkZWRdKTtcblxuICAvLyDQodC+0YXRgNCw0L3QtdC90LjQtSDRgdC+0L7QsdGJ0LXQvdC40Lkg0L/RgNC4INC60LDQttC00L7QvCDQuNC30LzQtdC90LXQvdC40LhcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJyAmJiBtZXNzYWdlc0xvYWRlZCkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYGNoYXRfJHtpZH1gLCBKU09OLnN0cmluZ2lmeShtZXNzYWdlcykpO1xuICAgIH1cbiAgfSwgW21lc3NhZ2VzLCBpZCwgbWVzc2FnZXNMb2FkZWRdKTtcblxuICAvLyDQn9C+0LvRg9GH0LXQvdC40LUg0LjQvNC10L3QuCDQsNGB0YHQuNGB0YLQtdC90YLQsFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChyb3V0ZXIuaXNSZWFkeSAmJiB0eXBlb2YgaWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCBmb3VuZCA9IGFnZW50cy5maW5kKGFnZW50ID0+IGFnZW50LmlkID09PSBpZCk7XG4gICAgICBzZXRBc3Npc3RhbnROYW1lKGZvdW5kPy5uYW1lIHx8ICfQkNGB0YHQuNGB0YLQtdC90YInKTtcbiAgICB9XG4gIH0sIFtyb3V0ZXIuaXNSZWFkeSwgaWRdKTtcblxuICBjb25zdCB0b2dnbGVTaWRlYmFyID0gKCkgPT4ge1xuICAgIHNldFNpZGViYXJPcGVuKCFzaWRlYmFyT3Blbik7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlVXNlck1lbnUgPSAoKSA9PiB7XG4gICAgc2V0VXNlck1lbnVPcGVuKCF1c2VyTWVudU9wZW4pO1xuICB9O1xuXG4gIGFzeW5jIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKCkge1xuICAgIGlmICghaW5wdXQudHJpbSgpIHx8IHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHJldHVybjtcblxuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL2NoYXQnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiBpbnB1dCwgYXNzaXN0YW50X2lkOiBpZCB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICBjb25zdCBlcnIgPSBhd2FpdCByZXMudGV4dCgpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB7IHJvbGU6ICd1c2VyJywgY29udGVudDogaW5wdXQgfSwgZGF0YV0pO1xuICAgICAgc2V0SW5wdXQoJycpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfQntGI0LjQsdC60LAg0L/RgNC4INC+0LHRidC10L3QuNC4INGBINCw0YHRgdC40YHRgtC10L3RgtC+0Lw6JywgZXJyb3IpO1xuICAgICAgYWxlcnQoJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAuINCf0YDQvtCy0LXRgNGMIEFQSSDQutC70Y7RhyDQuNC70LggSUQg0LDRgdGB0LjRgdGC0LXQvdGC0LAuJyk7XG4gICAgfVxuICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICB9XG5cbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc2VuZE1lc3NhZ2UoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8g0JDQstGC0L7QvNCw0YLQuNGH0LXRgdC60L7QtSDQuNC30LzQtdC90LXQvdC40LUg0LLRi9GB0L7RgtGLIHRleHRhcmVhXG4gIGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQ+KSA9PiB7XG4gICAgc2V0SW5wdXQoZS50YXJnZXQudmFsdWUpO1xuICAgIFxuICAgIC8vINCQ0LLRgtC+0LzQsNGC0LjRh9C10YHQutC+0LUg0LjQt9C80LXQvdC10L3QuNC1INCy0YvRgdC+0YLRi1xuICAgIGNvbnN0IHRleHRhcmVhID0gZS50YXJnZXQ7XG4gICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgIHRleHRhcmVhLnN0eWxlLmhlaWdodCA9IE1hdGgubWluKHRleHRhcmVhLnNjcm9sbEhlaWdodCwgMTIwKSArICdweCc7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtbGF5b3V0XCI+XG4gICAgICB7LyogU2lkZWJhciAqL31cbiAgICAgIDxhc2lkZSBjbGFzc05hbWU9e2BzaWRlYmFyICR7c2lkZWJhck9wZW4gPyAnc2lkZWJhci1vcGVuJyA6ICdzaWRlYmFyLWNsb3NlZCd9YH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2lkZWJhci1oZWFkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNpZGViYXItbG9nb1wiPlxuICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9kYXNoYm9hcmRcIj5cbiAgICAgICAgICAgICAgPGgyPtCY0Jgg0J/QvtC80L7RidC90LjQutC4PC9oMj5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cInNpZGViYXItdG9nZ2xlXCIgb25DbGljaz17dG9nZ2xlU2lkZWJhcn0+XG4gICAgICAgICAgICB7c2lkZWJhck9wZW4gPyAn4oaQJyA6ICfihpInfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNpZGViYXItY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2lkZWJhci1zZWN0aW9uXCI+XG5cdFx0ICAgIDxoND48YSBjbGFzc05hbWU9XCJjb2xvclwiIGhyZWY9XCIvZGFzaGJvYXJkXCI+0JPQu9Cw0LLQvdCw0Y88L2E+PC9oND5cbiAgICAgICAgICAgIDxoND7QmtCw0YLQtdCz0L7RgNC40Lg8L2g0PlxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNpZGViYXItbWVudVwiPlxuICAgICAgICAgICAge2NhdGVnb3JpZXMubWFwKGNhdCA9PiAoXG5cdFx0XHRcdCAgPGxpIGtleT17Y2F0LmlkfSBjbGFzc05hbWU9XCJzaWRlYmFyLW1lbnUtaXRlbVwiPlxuXHRcdFx0XHRcdDxMaW5rIGhyZWY9e2AvY2F0ZWdvcmllcy8ke2NhdC5uYW1lfWB9IGNsYXNzTmFtZT1cInNpZGViYXItbGlua1wiPlxuXHRcdFx0XHRcdCAge2NhdC5uYW1lfVxuXHRcdFx0XHRcdDwvTGluaz5cblx0XHRcdFx0ICA8L2xpPlxuXHRcdFx0XHQpKX1cblx0XHRcdCAgICA8bGkgY2xhc3NOYW1lPVwic2lkZWJhci1tZW51LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPVwiL2FnZW50c1wiIGNsYXNzTmFtZT1cInNpZGViYXItbGluayBzaWRlYmFyLWxpbmstYWxsXCI+XG4gICAgICAgICAgICAgICAgICDwn5OLINCh0LzQvtGC0YDQtdGC0Ywg0LLRgdC1XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2lkZWJhci1zZWN0aW9uXCI+XG4gICAgICAgICAgICA8aDQ+0JjQt9Cx0YDQsNC90L3QvtC1PC9oND5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzaWRlYmFyLW1lbnVcIj5cbiAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInNpZGViYXItbWVudS1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJzaWRlYmFyLWxpbmtcIj7QmNCYINC/0YHQuNGF0L7Qu9C+0LM8L0xpbms+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJzaWRlYmFyLW1lbnUtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwic2lkZWJhci1saW5rXCI+0KTQuNGC0L3QtdGBINGC0YDQtdC90LXRgDwvTGluaz5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNpZGViYXItc2VjdGlvblwiPlxuICAgICAgICAgICAgPGg0PtCn0LDRgtGLPC9oND5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzaWRlYmFyLW1lbnVcIj5cbiAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInNpZGViYXItbWVudS1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJzaWRlYmFyLWxpbmtcIj7QmNCYINC/0YHQuNGF0L7Qu9C+0LM8L0xpbms+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJzaWRlYmFyLW1lbnUtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwic2lkZWJhci1saW5rXCI+0KTQuNGC0L3QtdGBINGC0YDQtdC90LXRgDwvTGluaz5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2lkZWJhci1mb290ZXJcIj5cbiAgICAgICAgICA8TGluayBocmVmPVwiL3N1YnNjcmliZVwiIGNsYXNzTmFtZT1cInN1YnNjcmliZS1idXR0b25cIj5cbiAgICAgICAgICAgINCe0YTQvtGA0LzQuNGC0Ywg0L/QvtC00L/QuNGB0LrRg1xuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItaW5mb1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJ1c2VyLWluZm8tYnV0dG9uXCIgb25DbGljaz17dG9nZ2xlVXNlck1lbnV9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItYXZhdGFyXCI+XG4gICAgICAgICAgICAgICAge2VtYWlsLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWRldGFpbHNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItZW1haWxcIj57ZW1haWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BzdWJzY3JpcHRpb24tYmFkZ2UgJHtzdWJzY3JpcHRpb25TdGF0dXN9YH0+XG4gICAgICAgICAgICAgICAgICB7c3Vic2NyaXB0aW9uU3RhdHVzID09PSAndHJpYWwnXG4gICAgICAgICAgICAgICAgICAgID8gJ9Cf0YDQvtCx0L3Ri9C5INC/0LXRgNC40L7QtCdcbiAgICAgICAgICAgICAgICAgICAgOiBzdWJzY3JpcHRpb25TdGF0dXMgPT09ICdhY3RpdmUnXG4gICAgICAgICAgICAgICAgICAgICAgPyAn0JDQutGC0LjQstC90LAnXG4gICAgICAgICAgICAgICAgICAgICAgOiAn0JjRgdGC0LXQutC70LAnfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGV2cm9uXCI+XG4gICAgICAgICAgICAgICAge3VzZXJNZW51T3BlbiA/ICfilrInIDogJ+KWvCd9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHt1c2VyTWVudU9wZW4gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItbWVudVwiPlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvc2V0dGluZ3NcIiBjbGFzc05hbWU9XCJ1c2VyLW1lbnUtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAg0J3QsNGB0YLRgNC+0LnQutC4XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvcHJvZmlsZVwiIGNsYXNzTmFtZT1cInVzZXItbWVudS1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICDQn9GA0L7RhNC40LvRjFxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPVwiL2hlbHBcIiBjbGFzc05hbWU9XCJ1c2VyLW1lbnUtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAg0J/QvtC80L7RidGMXG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDxociBjbGFzc05hbWU9XCJ1c2VyLW1lbnUtc2VwYXJhdG9yXCIgLz5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPVwiL2xvZ291dFwiIGNsYXNzTmFtZT1cInVzZXItbWVudS1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICDQktGL0LnRgtC4XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9hc2lkZT5cblxuICAgICAgey8qIE1haW4gQ2hhdCBDb250ZW50ICovfVxuICAgICAgPG1haW4gY2xhc3NOYW1lPXtgY2hhdC1tYWluICR7c2lkZWJhck9wZW4gPyAnd2l0aC1zaWRlYmFyJyA6ICdmdWxsLXdpZHRoJ31gfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWhlYWRlclwiPlxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJjaGF0LXRpdGxlXCI+0KfQsNGCINGBIHthc3Npc3RhbnROYW1lfTwvaDE+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xlYXItY2hhdC1idXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICBzZXRNZXNzYWdlcyhbXSk7XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGBjaGF0XyR7aWR9YCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgINCe0YfQuNGB0YLQuNGC0Ywg0YfQsNGCXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtbWVzc2FnZXNcIj5cbiAgICAgICAgICAgIHttZXNzYWdlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VsY29tZS1tZXNzYWdlXCI+XG4gICAgICAgICAgICAgICAgPGgzPtCU0L7QsdGA0L4g0L/QvtC20LDQu9C+0LLQsNGC0Ywg0LIg0YfQsNGCINGBIHthc3Npc3RhbnROYW1lfSE8L2gzPlxuICAgICAgICAgICAgICAgIDxwPtCd0LDRh9C90LjRgtC1INGA0LDQt9Cz0L7QstC+0YAsINC90LDQv9C40YHQsNCyINCy0LDRiNC1INC/0LXRgNCy0L7QtSDRgdC+0L7QsdGJ0LXQvdC40LUuPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIG1lc3NhZ2VzLm1hcCgobXNnLCBpKSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l9IGNsYXNzTmFtZT17YG1lc3NhZ2UgJHttc2cucm9sZX1gfT5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1hdmF0YXJcIj5cbiAgICAgICAgICAgICAgICAgICAge21zZy5yb2xlID09PSAndXNlcicgPyBlbWFpbC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSA6ICfQmNCYJ31cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWF1dGhvclwiPlxuICAgICAgICAgICAgICAgICAgICAgIHttc2cucm9sZSA9PT0gJ3VzZXInID8gJ9CS0YsnIDogYXNzaXN0YW50TmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdE1lc3NhZ2VUZXh0KG1zZy5jb250ZW50KX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7c3Vic2NyaXB0aW9uU3RhdHVzID09PSAnZXhwaXJlZCcgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtbG9ja2VkXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9ja2VkLW1lc3NhZ2VcIj5cbiAgICAgICAgICAgICAgICA8aDM+8J+UkiDQlNC+0YHRgtGD0L8g0Log0YfQsNGC0YMg0L7Qs9GA0LDQvdC40YfQtdC9PC9oMz5cbiAgICAgICAgICAgICAgICA8cD7Qp9GC0L7QsdGLINC/0YDQvtC00L7Qu9C20LjRgtGMINC+0LHRidC10L3QuNC1INGBINCY0Jgt0L/QvtC80L7RidC90LjQutCw0LzQuCwg0L7RhNC+0YDQvNC40YLQtSDQv9C+0LTQv9C40YHQutGDLjwvcD5cbiAgICAgICAgICAgICAgICA8TGluayBocmVmPVwiL3N1YnNjcmliZVwiIGNsYXNzTmFtZT1cInVwZ3JhZGUtYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICDQntGE0L7RgNC80LjRgtGMINC/0L7QtNC/0LjRgdC60YNcbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1pbnB1dC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWlucHV0LXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtpbnB1dH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbnB1dENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIG9uS2V5UHJlc3M9e2hhbmRsZUtleVByZXNzfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2hhdC1pbnB1dFwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cItCS0LLQtdC00LjRgtC1INGB0L7QvtCx0YnQtdC90LjQtS4uLlwiXG4gICAgICAgICAgICAgICAgICByb3dzPXsxfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgb25DbGljaz17c2VuZE1lc3NhZ2V9IFxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmcgfHwgIWlucHV0LnRyaW0oKX0gXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZW5kLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2xvYWRpbmcgPyAn4o+zJyA6ICfihpEnfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9tYWluPlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJ1c2VSb3V0ZXIiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsIkxpbmsiLCJSZWFjdCIsImFnZW50cyIsInVzZUNhdGVnb3J5U3RvcmUiLCJjYXRlZ29yaWVzIiwiZm9ybWF0TWVzc2FnZVRleHQiLCJ0ZXh0IiwicGFyYWdyYXBocyIsInNwbGl0IiwibWFwIiwicGFyYWdyYXBoIiwiaW5kZXgiLCJ0cmltbWVkUGFyYWdyYXBoIiwidHJpbSIsImluY2x1ZGVzIiwidGVzdCIsImxpbmVzIiwiZWxlbWVudHMiLCJjdXJyZW50TGlzdCIsImN1cnJlbnRMaXN0VHlwZSIsImZvckVhY2giLCJsaW5lIiwibGluZUluZGV4IiwidHJpbW1lZExpbmUiLCJzdGFydHNXaXRoIiwibGVuZ3RoIiwicHVzaCIsIm9sIiwiaXRlbSIsImkiLCJsaSIsInN1YnN0cmluZyIsInVsIiwicmVwbGFjZSIsIkxpc3RDb21wb25lbnQiLCJjcmVhdGVFbGVtZW50Iiwia2V5IiwicCIsImRpdiIsImZpbHRlciIsIkJvb2xlYW4iLCJBZ2VudENoYXQiLCJyb3V0ZXIiLCJpZCIsInF1ZXJ5IiwibWVzc2FnZXNFbmRSZWYiLCJlbWFpbCIsInNldEVtYWlsIiwiYXNzaXN0YW50TmFtZSIsInNldEFzc2lzdGFudE5hbWUiLCJpbnB1dCIsInNldElucHV0IiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwibWVzc2FnZXNMb2FkZWQiLCJzZXRNZXNzYWdlc0xvYWRlZCIsInN1YnNjcmlwdGlvblN0YXR1cyIsInNldFN1YnNjcmlwdGlvblN0YXR1cyIsInNpZGViYXJPcGVuIiwic2V0U2lkZWJhck9wZW4iLCJ1c2VyTWVudU9wZW4iLCJzZXRVc2VyTWVudU9wZW4iLCJzY3JvbGxUb0JvdHRvbSIsImN1cnJlbnQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwianNvbiIsImRhdGEiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJpc1JlYWR5Iiwic2F2ZWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImZvdW5kIiwiZmluZCIsImFnZW50IiwibmFtZSIsInRvZ2dsZVNpZGViYXIiLCJ0b2dnbGVVc2VyTWVudSIsInNlbmRNZXNzYWdlIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJtZXNzYWdlIiwiYXNzaXN0YW50X2lkIiwib2siLCJlcnIiLCJFcnJvciIsInByZXYiLCJyb2xlIiwiY29udGVudCIsImVycm9yIiwiY29uc29sZSIsImFsZXJ0IiwiaGFuZGxlS2V5UHJlc3MiLCJlIiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImhhbmRsZUlucHV0Q2hhbmdlIiwidGFyZ2V0IiwidmFsdWUiLCJ0ZXh0YXJlYSIsInN0eWxlIiwiaGVpZ2h0IiwiTWF0aCIsIm1pbiIsInNjcm9sbEhlaWdodCIsImNsYXNzTmFtZSIsImFzaWRlIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwiaDQiLCJhIiwiY2F0IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJociIsIm1haW4iLCJoMSIsInJlbW92ZUl0ZW0iLCJoMyIsIm1zZyIsInJlZiIsIm9uQ2hhbmdlIiwib25LZXlQcmVzcyIsInBsYWNlaG9sZGVyIiwicm93cyIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/agents/[id].tsx\n"));

/***/ }),

/***/ "./data/agents.json":
/*!**************************!*\
  !*** ./data/agents.json ***!
  \**************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = JSON.parse('[{"id":"asst_jYPLYZOj82vtSYUviIOwAbRx","name":"ИИ-психолог","description":"Помогает справиться со стрессом, тревогой и выгоранием.","category":"Здоровье","icon":"🧘"},{"id":"asst_2","name":"Финансовый агент","description":"Поможет с бюджетом семьи и подушкой безопасности.","category":"Финансы","icon":"💰"},{"id":"asst_3","name":"Диетолог","description":"Подберёт меню и режим питания под цель.","category":"Здоровье","icon":"🥗"},{"id":"asst_4","name":"Фитнес-тренер","description":"Составит план тренировок дома или в зале.","category":"Здоровье","icon":"🏋️"},{"id":"asst_5","name":"Юрист","description":"Бытовые вопросы: аренда, развод, договор.","category":"Финансы","icon":"⚖️"},{"id":"asst_6","name":"Детский психолог","description":"Конфликты, воспитание, развитие ребёнка.","category":"Дети","icon":"👶"},{"id":"asst_7","name":"Помощник по готовке","description":"Рецепты из имеющихся продуктов и меню на неделю.","category":"Быт","icon":"🍳"},{"id":"asst_8","name":"Планировщик отпуска","description":"Поможет составить маршрут и бюджет поездки.","category":"Быт","icon":"✈️"}]');

/***/ })

});